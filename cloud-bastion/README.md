# AdamskWebber_infra
AdamskWebber Infra_cloud-bastion

-------------------------------------------------------------------------

Подключение к серверу someinternalhost в одну строку.
Ну смысл в том что бы сделать Port-forwarding на bastion

Решение примерно такое:
На бастионе задаем пароль админа и повышаем себе права до админа.
Затем разрешаем перенаправление портов
sysctl net.ipv4.ip_forward=1
Указываем откуда и куда перенаправлять
iptables -t nat -A PREROUTING -p tcp -d (внешний IP или localhost) --dport (любой порт кроме 22) -j DNAT --to-destination (IP someinternalhost):22
Подключаемся командой
ssh -i ~/.ssh/appuser -A appuser@(внешний IP) -p (Порт который назначили выше)

-------------------------------------------------------------------------

Подключение по алиасу someinternalhost

У данной задачи много решений, самое простое на мой взгляд поменять файл \ect\hosts
Добавив запись (Внешний IP) someinternalhost
И подключение будет
ssh -i ~/.ssh/appuser -A appuser@someinternalhost -p указанный ранее порт

-------------------------------------------------------------------------

bastion_IP = 178.154.223.31
someinternalhost_IP = 10.128.0.23

-------------------------------------------------------------------------

С помощью сервисов / и реализуйте
использование валидного сертификата для панели управления VPNсервера

Для этого задания нужно иметь активный хостинг, могу сделать но как по мне несколько трудозатратно.

P.S. Указанных технических характерестик для Bastion явно недостаточно, виснет на команде sudo pritunl default-password
